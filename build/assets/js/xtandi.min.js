!function a(c,s,i){function l(t,e){if(!s[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=s[t]={exports:{}};c[t][0].call(r.exports,function(e){return l(c[t][1][e]||e)},r,r.exports,a,c,s,i)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<i.length;e++)l(i[e]);return l}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./navigation"),o=e("./table-screensaver"),a=void 0;n.sessionCounter=a,n.sessionDuration=24e4;var c=document.querySelectorAll("article.slide");n.slides=c;var s=document.querySelectorAll(".jsSlideNavBtn");n.menuButtons=s;var i=document.querySelector(".jsNextSlide");n.nextButton=i;var l=document.querySelector(".jsPrevSlide");n.prevButton=l;var u=document.querySelector(".jsNavRefs");n.referencesButton=u;var d=document.querySelector(".jsNavSlides");n.menuButton=d;var v=document.querySelector(".jsHome");n.homeButton=v;var f=document.querySelector(".jsFullscreenBtn");n.fullScreenButton=f;var m=document.querySelector(".jsScreensaver");n.screenSaver=m;var S=document.querySelector(".jsScreensaverTrigger");n.screenSaverTrigger=S;var g=document.querySelector('article[data-name="homepage"]');n.homepage=g,e("./touch"),e("./modal"),e("./tabs"),e("./rotate-screen"),e("./table-screensaver");n.restartSessionCountdown=function(){console.log("session countdown restarted"),h(),p()};var h=function(){console.log("session countdown stopped"),clearInterval(a),n.sessionCounter=a=null};n.stopSessionCountdown=h;var p=function(){console.log("session countdown started"),n.sessionCounter=a=setInterval(y,24e4)};n.startSessionCountdown=p;f.addEventListener("click",function(){var e;(e=document.documentElement).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),setTimeout(L,1e3),document.querySelector(".fullscreen-btn").style.display="none"});var y=function(){console.log("SHOW SCREENSAVER"),(0,r.showScreensaver)(m),c.forEach(function(e){(0,r.makeElementNotActive)(e),(0,r.moveSlideOffRight)(e)}),h(),q&&fetch("http://localhost:8080/sessionClose/"+q,{method:"POST"}).catch(function(e){console.log("launchScreensaver error",e)})};n.launchScreensaver=y;var L=function(){console.log("START APPLICATION"),document.querySelector(".application").classList.add("moveToLeft"),y()},q=null;fetch("http://localhost:8080/sessionstart",{method:"POST"}).then(function(e){return e.json()}).then(function(e){q=e.data.sessionId,console.log("currentSessionId",q)}).catch(function(e){console.log("session start error",e)}),window.addEventListener("beforeunload",function(e){e.preventDefault(),fetch("http://localhost:8080/sessionClose/"+q,{method:"POST"}).catch(function(e){console.log("before unload error",e)}),e.returnValue=""}),s&&s.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=document.querySelector('.slide[data-name="'+e.currentTarget.dataset.name+'"]');console.log("clicked navigationButton",t,n),(0,r.onSlideAnimation)(t,n)})}),i&&i.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=1+~~t.dataset.id,o=document.querySelector('.slide[data-id="'+n+'"]');console.log("clicked nextButton",t,o,e.currentTarget),(0,r.onSlideAnimation)(t,o)}),l&&l.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=~~t.dataset.id-1,o=document.querySelector('.slide[data-id="'+n+'"]');console.log("clicked prevButton",t,o,e.currentTarget),(0,r.onSlideAnimation)(t,o)}),u&&u.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=document.querySelector('[data-name="references"]');console.log("clicked referencesButton",t,n),(0,r.onSlideAnimation)(t,n)}),d&&d.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=document.querySelector('[data-name="menu"]');console.log("clicked menuButton",t,n),(0,r.onSlideAnimation)(t,n)}),v&&v.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=g;console.log("clicked homeButton",t,n),(0,r.onSlideAnimation)(t,n)}),S&&S.addEventListener("click",function(e){var t=m,n=g;fetch("http://localhost:8080/sessionstart",{method:"POST"}).then(function(e){return e.json()}).then(function(e){q=e.data.sessionId,fetch("http://localhost:8080/log/"+q+"/menu/screenSaver_close",{method:"POST"}).catch(function(e){console.log("screenSaver start click error",e)})}).catch(function(e){console.log("screenSaver click error",e)}),console.log("clicked screenSaverTrigger",t,n),clearInterval(o.screenSaverTableCountdown),(0,r.onSlideAnimation)(t,n)})},{"./modal":2,"./navigation":3,"./rotate-screen":4,"./table-screensaver":5,"./tabs":6,"./touch":7}],2:[function(e,t,n){"use strict";var o=e("./app"),r=document.querySelectorAll("button[data-modal]"),a=document.querySelectorAll(".slide__modal__content"),c=function(){a.forEach(function(e){e.dataset.active=!1}),(0,o.restartSessionCountdown)()};r&&r.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault,c();var t,n=e.currentTarget.dataset.modal;t=n,document.querySelector('.slide__modal__content[data-target="'+t+'"]').dataset.active=!0,(0,o.restartSessionCountdown)(),console.log("clicked",n,targetContent)})}),a&&a.forEach(function(e){e.querySelector("img").addEventListener("click",function(e){e.preventDefault,c()})})},{"./app":1}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./app"),o=e("./table-screensaver"),a=function(e){e.classList.remove("moveOnScreenLeft","moveOnScreenRight"),e.classList.add("moveOffScreenLeft")};n.moveSlideOffLeft=a;var c=function(e){e.classList.remove("moveOffScreenLeft","moveOffScreenRight"),e.classList.add("moveOnScreenRight")};n.moveSlideOnLeft=c;var s=function(e){e.classList.remove("moveOffScreenRight"),e.classList.add("moveOnScreenLeft")};n.moveSlideOnRight=s;var i=function(e){e.classList.remove("moveOnScreenLeft","moveOnScreenRight"),e.classList.add("moveOffScreenRight")};n.moveSlideOffRight=i;var l=function(e){e.dataset.active=!0};n.makeElementIsActive=l;var u=function(e){e.dataset.active=!1};n.makeElementNotActive=u;var d=function(e){var t=e.querySelector(".slide__title"),n=e.querySelector(".slide__graphic"),o=e.querySelector(".slide__footer");t&&t.classList.add("moveToLeft"),n&&n.classList.add("scaleUp"),o&&o.classList.add("moveToLeft")};n.revealContent=d;var v=function(e){var t=e.querySelector(".slide__title"),n=e.querySelector(".slide__graphic"),o=e.querySelector(".slide__footer");t&&t.classList.remove("moveToLeft"),n&&n.classList.remove("scaleUp"),o&&o.classList.remove("moveToLeft")};n.hideContent=v;var f=function(e,t){var n=r.slides.length;t=isNaN(t)?~~t:t,r.prevButton.style.background=t<=1?"white":"none",r.nextButton.style.background=n<=t?"white":"none",r.homeButton.style.display="homepage"===e?"none":"block","references"===e?r.referencesButton.classList.add("navigation__btn--refs-selected"):r.referencesButton.classList.remove("navigation__btn--refs-selected"),"menu"===e?r.menuButton.classList.add("navigation__btn--navigation-selected"):r.menuButton.classList.remove("navigation__btn--navigation-selected")};n.defineNavigationState=f;var m=function(){var e=document.querySelectorAll(".screen-rotated");e&&e.forEach(function(e){e.classList.remove("screen-rotated")})};n.resetScreenRotation=m;var S=function(e){console.log("hideScreensaver"),e.classList.add("screensaver--hide"),u(e),"table"===document.body.dataset.environment&&u(o.screenSaverTableElement)};n.hideScreensaver=S;var g=function(e){console.log("showScreensaver"),e.classList.remove("screensaver--hide"),l(e),"table"===document.body.dataset.environment&&l(o.screenSaverTableElement),m()};n.showScreensaver=g;var h=function(e,t){console.log("animateSlides",e,t);var n=~~e.dataset.id,o=~~t.dataset.id;n<o?(e===r.screenSaver?S(e):a(e),t===r.screenSaver?g(t):s(t)):o<n&&(e===r.screenSaver?S(e):i(e),t===r.screenSaver?g(t):c(t))};n.animateSlides=h;n.onSlideAnimation=function(e,t){console.log("onSlideAnimation/arguments",e,t),(0,r.restartSessionCountdown)(),u(e),l(t),h(e,t),d(t),v(e),f(t.dataset.name,t.dataset.id)}},{"./app":1,"./table-screensaver":5}],4:[function(e,t,n){"use strict";var o=document.querySelector(".jsRotateScreen"),r=document.querySelectorAll(".rotation-container");o&&o.addEventListener("click",function(e){e.preventDefault,r.forEach(function(e){e.classList.toggle("screen-rotated")})})},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./app"),r=document.querySelector(".jsScreenSaverTable");n.screenSaverTableElement=r;var a=document.querySelector(".jsScreenSaverTableTrigger");n.screenSaverTableTriggerElement=a;var c=void 0;n.screenSaverTableCountdown=c;for(var s=0;s<4;s++)a.innerHTML+='<img src="assets/img/screensaver/tap-icon_'+(s+1)+'.png" alt="Tap to start" />';"table"===document.body.dataset.environment?r.dataset.active=!0:r.dataset.active=!1,a&&a.addEventListener("click",function(e){console.log("clicked screenSaverTableTriggerElement",c),e.preventDefault,r.dataset.active=!1,n.screenSaverTableCountdown=c=setTimeout(o.launchScreensaver,o.sessionDuration)})},{"./app":1}],6:[function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=e("./app"),a=e("./navigation"),c=document.querySelectorAll(".tab-control-button"),s=document.querySelectorAll("[data-tab]");console.log("tabElements/raw",[].concat(o(s)).map(function(e){return e.dataset.tab})),c&&c.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault;var t=e.currentTarget.dataset.tab,n=[].concat(o(s)).filter(function(e){return e.dataset.tab===t});document.querySelector('img[data-tab="'+t+'"]').parentElement.parentElement.querySelectorAll("[data-tab]").forEach(function(e){(0,a.makeElementNotActive)(e)}),n.forEach(function(e){(0,a.makeElementIsActive)(e)}),console.log("clicked",t,n),(0,r.restartSessionCountdown)()})})},{"./app":1,"./navigation":3}],7:[function(e,t,n){"use strict";var o=document.querySelector(".application"),c=void 0,s=void 0;o.addEventListener("touchstart",function(e){s=e.changedTouches[0],0,c=s.pageX,s.pageY,e.preventDefault()},!1),o.addEventListener("touchmove",function(e){e.preventDefault()},!1),o.addEventListener("touchend",function(e){var t,n,o,r,a;s=e.changedTouches[0],t=s.pageX-c,n=150<=t,o=s.pageX<c,r=s.pageX>c,a=o&&!r?"left":"right",n&&(console.log("valid "+a+" swipe!"),console.log("handle page transitions here")),e.preventDefault()},!1)},{}]},{},[1]);