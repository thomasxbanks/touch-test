!function a(c,s,i){function l(t,e){if(!s[t]){if(!c[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}var r=s[t]={exports:{}};c[t][0].call(r.exports,function(e){return l(c[t][1][e]||e)},r,r.exports,a,c,s,i)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<i.length;e++)l(i[e]);return l}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./navigation"),o=e("./table-screensaver"),r=void 0;n.sessionCounter=r,n.sessionDuration=24e4;var l=void 0,a=document.querySelectorAll("article.slide");n.slides=a;var c=document.querySelectorAll(".jsSlideNavBtn");n.menuButtons=c;var s=document.querySelector(".jsNextSlide");n.nextButton=s;var u=document.querySelector(".jsPrevSlide");n.prevButton=u;var d=document.querySelector(".jsNavRefs");n.referencesButton=d;var v=document.querySelector(".jsNavSlides");n.menuButton=v;var f=document.querySelector(".jsHome");n.homeButton=f;var m=document.querySelector(".jsFullscreenBtn");n.fullScreenButton=m;var S=document.querySelector(".jsScreensaver");n.screenSaver=S;var g=document.querySelector(".jsScreensaverTrigger");n.screenSaverTrigger=g;var h=document.querySelector('article[data-name="homepage"]');n.homepage=h;var p=document.querySelector(".container.rotation-container");n.rotationContainer=p,e("./modal"),e("./tabs"),e("./rotate-screen"),e("./table-screensaver");n.restartSessionCountdown=function(){console.log("session countdown restarted"),y(),q()};var y=function(){console.log("session countdown stopped"),clearInterval(r),n.sessionCounter=r=null};n.stopSessionCountdown=y;var q=function(){console.log("session countdown started"),n.sessionCounter=r=setInterval(L,24e4)};n.startSessionCountdown=q;m.addEventListener("click",function(){var e;(e=document.documentElement).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),setTimeout(b,1e3),document.querySelector(".fullscreen-btn").style.display="none"});var L=function(){console.log("SHOW SCREENSAVER"),(0,i.showScreensaver)(S),a.forEach(function(e){(0,i.makeElementNotActive)(e),(0,i.moveSlideOffRight)(e)}),y(),E&&fetch("http://localhost:8080/sessionClose/"+E,{method:"POST"}).catch(function(e){console.log("launchScreensaver error",e)}),document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()};n.launchScreensaver=L;var b=function(){console.log("START APPLICATION"),document.querySelector(".application").classList.add("moveToLeft"),L()},E=null;fetch("http://localhost:8080/sessionstart",{method:"POST"}).then(function(e){return e.json()}).then(function(e){E=e.data.sessionId,console.log("currentSessionId",E)}).catch(function(e){console.log("session start error",e)}),window.addEventListener("beforeunload",function(e){e.preventDefault(),fetch("http://localhost:8080/sessionClose/"+E,{method:"POST"}).catch(function(e){console.log("before unload error",e)}),e.returnValue=""});var T=document.querySelectorAll(".application"),k=0,_=0;function w(e){var t={};return e.targetTouches?(t.x=e.targetTouches[0].clientX,t.y=e.targetTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t.x}T.forEach(function(e){e.addEventListener("pointerdown",function(e){e.preventDefault(),k=w(e),console.log("pointerdown",k,_)},!1),e.addEventListener("pointermove",function(e){e.preventDefault(),_=w(e),console.log("pointermove",k,_)}),e.addEventListener("pointercancel",function(e){e.preventDefault(),_!==k&&function(e){var t=_<k,n=k<_;if("tap"!=(l=t&&!n?e<=10?"left":"tap":!t&&n&&10<=e?"right":"tap")){console.log("valid "+l+" swipe!"),console.log("handle page transitions here");var o=document.querySelector('.slide[data-active="true"]'),r=~~o.dataset.id,a=void 0,c=p.classList.contains("screen-rotated");c||"left"!==l||(a=r+1),c&&"left"===l&&(a=r-1),c||"right"!==l||(a=r-1),c&&"right"===l&&(a=r+1);var s=document.querySelector('.slide[data-id="'+a+'"]');s&&(0,i.onSlideAnimation)(o,s)}}(_-k),console.log("pointerup",k,_)})}),c&&c.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=document.querySelector('.slide[data-name="'+e.currentTarget.dataset.name+'"]');console.log("clicked navigationButton",t,n),(0,i.onSlideAnimation)(t,n)})}),s&&s.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=1+~~t.dataset.id,o=document.querySelector('.slide[data-id="'+n+'"]');console.log("clicked nextButton",t,o,e.currentTarget),(0,i.onSlideAnimation)(t,o)}),u&&u.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=~~t.dataset.id-1,o=document.querySelector('.slide[data-id="'+n+'"]');console.log("clicked prevButton",t,o,e.currentTarget),(0,i.onSlideAnimation)(t,o)}),d&&d.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=document.querySelector('[data-name="references"]');console.log("clicked referencesButton",t,n),(0,i.onSlideAnimation)(t,n)}),v&&v.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=document.querySelector('[data-name="menu"]');console.log("clicked menuButton",t,n),(0,i.onSlideAnimation)(t,n)}),f&&f.addEventListener("click",function(e){e.preventDefault;var t=document.querySelector('.slide[data-active="true"]'),n=h;console.log("clicked homeButton",t,n),(0,i.onSlideAnimation)(t,n)}),g&&g.addEventListener("click",function(e){var t=S,n=h;fetch("http://localhost:8080/sessionstart",{method:"POST"}).then(function(e){return e.json()}).then(function(e){E=e.data.sessionId,fetch("http://localhost:8080/log/"+E+"/menu/screenSaver_close",{method:"POST"}).catch(function(e){console.log("screenSaver start click error",e)})}).catch(function(e){console.log("screenSaver click error",e)}),console.log("clicked screenSaverTrigger",t,n),clearInterval(o.screenSaverTableCountdown),(0,i.onSlideAnimation)(t,n)});document.querySelector(".fullscreen-btn").style.background=["red","orange","yellow","green","blue","indigo","violet","hotpink","dodgerblue","sienna","tomato","wheat"][~~((new Date).getSeconds()/6)-1]},{"./modal":2,"./navigation":3,"./rotate-screen":4,"./table-screensaver":5,"./tabs":6}],2:[function(e,t,n){"use strict";var o=e("./app"),r=document.querySelectorAll("button[data-modal]"),a=document.querySelectorAll(".slide__modal__content"),c=function(){a.forEach(function(e){e.dataset.active=!1}),(0,o.restartSessionCountdown)()};r&&r.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault,c();var t,n=e.currentTarget.dataset.modal;t=n,document.querySelector('.slide__modal__content[data-target="'+t+'"]').dataset.active=!0,(0,o.restartSessionCountdown)(),console.log("clicked",n)})}),a&&a.forEach(function(e){e.querySelector("img").addEventListener("click",function(e){e.preventDefault,c()})})},{"./app":1}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./app"),o=e("./table-screensaver"),a=function(e){e.classList.remove("moveOnScreenLeft","moveOnScreenRight"),e.classList.add("moveOffScreenLeft")};n.moveSlideOffLeft=a;var c=function(e){e.classList.remove("moveOffScreenLeft","moveOffScreenRight"),e.classList.add("moveOnScreenRight")};n.moveSlideOnLeft=c;var s=function(e){e.classList.remove("moveOffScreenRight"),e.classList.add("moveOnScreenLeft")};n.moveSlideOnRight=s;var i=function(e){e.classList.remove("moveOnScreenLeft","moveOnScreenRight"),e.classList.add("moveOffScreenRight")};n.moveSlideOffRight=i;var l=function(e){e.dataset.active=!0};n.makeElementIsActive=l;var u=function(e){e.dataset.active=!1};n.makeElementNotActive=u;var d=function(e){var t=e.querySelector(".slide__title"),n=e.querySelector(".slide__graphic"),o=e.querySelector(".slide__footer");t&&t.classList.add("moveToLeft"),n&&n.classList.add("scaleUp"),o&&o.classList.add("moveToLeft")};n.revealContent=d;var v=function(e){var t=e.querySelector(".slide__title"),n=e.querySelector(".slide__graphic"),o=e.querySelector(".slide__footer");t&&t.classList.remove("moveToLeft"),n&&n.classList.remove("scaleUp"),o&&o.classList.remove("moveToLeft")};n.hideContent=v;var f=function(e,t){var n=r.slides.length;t=isNaN(t)?~~t:t,r.prevButton.style.background=t<=1?"white":"none",r.nextButton.style.background=n<=t?"white":"none",r.homeButton.style.display="homepage"===e?"none":"block","references"===e?r.referencesButton.classList.add("navigation__btn--refs-selected"):r.referencesButton.classList.remove("navigation__btn--refs-selected"),"menu"===e?r.menuButton.classList.add("navigation__btn--navigation-selected"):r.menuButton.classList.remove("navigation__btn--navigation-selected")};n.defineNavigationState=f;var m=function(){var e=document.querySelectorAll(".screen-rotated");e&&e.forEach(function(e){e.classList.remove("screen-rotated")})};n.resetScreenRotation=m;var S=function(e){console.log("hideScreensaver"),e.classList.add("screensaver--hide"),u(e),"table"===document.body.dataset.environment&&u(o.screenSaverTableElement)};n.hideScreensaver=S;var g=function(e){console.log("showScreensaver"),e.classList.remove("screensaver--hide"),l(e),"table"===document.body.dataset.environment&&l(o.screenSaverTableElement),m()};n.showScreensaver=g;var h=function(e,t){console.log("animateSlides",e,t);var n=~~e.dataset.id,o=~~t.dataset.id;n<o?(e===r.screenSaver?S(e):a(e),t===r.screenSaver?g(t):s(t)):o<n&&(e===r.screenSaver?S(e):i(e),t===r.screenSaver?g(t):c(t))};n.animateSlides=h;n.onSlideAnimation=function(e,t){console.log("onSlideAnimation/arguments",e,t),(0,r.restartSessionCountdown)(),u(e),l(t),h(e,t),d(t),v(e),f(t.dataset.name,t.dataset.id)}},{"./app":1,"./table-screensaver":5}],4:[function(e,t,n){"use strict";var o=document.querySelector(".jsRotateScreen"),r=document.querySelectorAll(".rotation-container");o&&o.addEventListener("click",function(e){e.preventDefault,r.forEach(function(e){e.classList.toggle("screen-rotated")})})},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("./app"),r=document.querySelector(".jsScreenSaverTable");n.screenSaverTableElement=r;var a=document.querySelector(".jsScreenSaverTableTrigger");n.screenSaverTableTriggerElement=a;var c=void 0;n.screenSaverTableCountdown=c;for(var s=0;s<4;s++)a.innerHTML+='<img src="assets/img/screensaver/tap-icon_'+(s+1)+'.png" alt="Tap to start" />';"table"===document.body.dataset.environment?r.dataset.active=!0:r.dataset.active=!1,a&&a.addEventListener("click",function(e){console.log("clicked screenSaverTableTriggerElement",c),e.preventDefault,r.dataset.active=!1,n.screenSaverTableCountdown=c=setTimeout(o.launchScreensaver,o.sessionDuration)})},{"./app":1}],6:[function(e,t,n){"use strict";function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r=e("./app"),a=e("./navigation"),c=document.querySelectorAll(".tab-control-button"),s=document.querySelectorAll("[data-tab]");console.log("tabElements/raw",[].concat(o(s)).map(function(e){return e.dataset.tab})),c&&c.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault;var t=e.currentTarget.dataset.tab,n=[].concat(o(s)).filter(function(e){return e.dataset.tab===t});document.querySelector('img[data-tab="'+t+'"]').parentElement.parentElement.querySelectorAll("[data-tab]").forEach(function(e){(0,a.makeElementNotActive)(e)}),n.forEach(function(e){(0,a.makeElementIsActive)(e)}),console.log("clicked",t,n),(0,r.restartSessionCountdown)()})})},{"./app":1,"./navigation":3}]},{},[1]);